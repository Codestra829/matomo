<td ng-if="!site.editMode" sites-manager-edit-trigger>
    {{ site.idsite }}
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    {{ site.name }}
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    <span ng-repeat="url in site.alias_urls">{{ url | prettyUrl }}</span>
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    <span ng-repeat="ip in site.excluded_ips">{{ ip }}</span>
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    <span ng-repeat="parameter in site.excluded_parameters">{{ parameter }}</span>
</td>
<td ng-if="!site.editMode" ng-show="globalSettings.siteSpecificUserAgentExcludeEnabled" sites-manager-edit-trigger>
    <span ng-repeat="userAgent in site.excluded_user_agents">{{ userAgent }}</span>
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    <span ng-switch="site.sitesearch">
        <span ng-switch-when="1">{{ 'General_Yes'|translate }}</span>
        <span ng-switch-default>-</span>
    </span>
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    {{ site.timezone }}
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    {{ site.currency }}
</td>
<td ng-if="!site.editMode" sites-manager-edit-trigger>
    <span ng-switch="site.ecommerce">
        <span ng-switch-default>-</span>
        <span ng-switch-when="1">{{ 'General_Yes'|translate }}</span>
    </span>
</td>
<td ng-if="!site.editMode">
    <span class="link_but" ng-click="editSite()">
        <img src='plugins/Morpheus/images/ico_edit.png' title="{{ 'General_Edit'|translate }}"/>
    </span>
    <span ng-show="site.idsite" class="link_but" ng-click="openDeleteDialog()">
        <img src='plugins/Morpheus/images/ico_delete.png' title="{{ 'General_Delete'|translate }}"/>
    </span>
</td>
<td ng-if="!site.editMode">
    <a ng-show="site.idsite" href="?module=CoreAdminHome&action=trackingCodeGenerator&idSite={{ site.idsite }}&period={{ period }}&date={{ date }}&updated=false">
        {{ 'SitesManager_SetUp'|translate }}
    </a>
</td>


<td ng-if="site.editMode" class="editingSite" colspan="100">

    <div class="form-group">
        <label>{{ 'General_Name'|translate }}</label>
        <input type="text" ng-model="site.name"/>
    </div>

    <div class="form-group">
        <label>{{ 'SitesManager_Urls'|translate }}</label>
        <div class="form-help">
            {{ 'SitesManager_AliasUrlHelp' | translate }}
        </div>
        <div sites-manager-multiline-field field="site.alias_urls" cols="25" rows="3"></div>
    </div>

    <div class="form-group">
        <label>{{ 'SitesManager_KeepURLFragmentsLong'|translate }}</label>
        <select ng-options="key as value for (key, value) in keepURLFragmentsOptions"
                ng-model="site.keep_url_fragment"></select>
    </div>

    <div class="form-group">
        <label>{{ 'SitesManager_ExcludedIps'|translate }}</label>
        <div ng-include="'plugins/SitesManager/templates/help/excluded-ip-help.html'"></div>
        <div sites-manager-multiline-field field="site.excluded_ips" cols="20" rows="4"></div>
    </div>

    <div class="form-group">
        <label>{{ 'SitesManager_ExcludedParameters'|translate }}</label>
        <div ng-include="'plugins/SitesManager/templates/help/excluded-query-parameters-help.html'"></div>
        <div sites-manager-multiline-field field="site.excluded_parameters" cols="20" rows="4"></div>
    </div>

    <div class="form-group" ng-if="globalSettings.siteSpecificUserAgentExcludeEnabled">
        <label>{{ 'SitesManager_ExcludedUserAgents'|translate }}</label>
        <div ng-include="'plugins/SitesManager/templates/help/excluded-user-agents-help.html'"></div>
        <div sites-manager-multiline-field field="site.excluded_user_agents" cols="20" rows="4"></div>
    </div>

    <div ng-include="'plugins/SitesManager/templates/sites-list/site-search-field.html'"></div>

    <div class="form-group">
        <label>{{ 'SitesManager_Timezone'|translate }}</label>
        <div ng-include="'plugins/SitesManager/templates/help/timezone-help.html'"></div>
        <select ng-model="site.timezone" ng-options="t.code as t.label group by t.group for t in timezones"></select>
    </div>

    <div class="form-group">
        <label>{{ 'SitesManager_Currency'|translate }}</label>
        <div class="form-help">
            {{ 'SitesManager_CurrencySymbolWillBeUsedForGoals' | translate }}
        </div>
        <select ng-model="site.currency" ng-options="k as v for (k, v) in currencies"></select>
    </div>

    <div class="form-group">
        <label>{{ 'Goals_Ecommerce'|translate }}</label>
        <div class="form-help">
            {{ 'SitesManager_EcommerceHelp' | translate }}
            <br/>
            <span ng-bind-html="'SitesManager_PiwikOffersEcommerceAnalytics'|translate:'<a href=\'http://piwik.org/docs/ecommerce-analytics/\' target=\'_blank\'>':'</a>'"></span>
        </div>
        <select ng-options="option.key as option.value for option in eCommerceptions" ng-model="site.ecommerce"></select>
    </div>

    <div class="editingSiteFooter">
        <input type="submit" class="btn" value="{{ 'General_Save' | translate }}" ng-click="saveSite()"/>
        <button class="btn btn-link" ng-click="cancelEditSite($event)">{{ 'General_Cancel' | translate:'':'' }}</button>
    </div>

</td>
