(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue")):"function"===typeof define&&define.amd?define(["CoreHome"],t):"object"===typeof exports?exports["MultiSites"]=t(require("CoreHome"),require("vue")):e["MultiSites"]=t(e["CoreHome"],e["Vue"])})("undefined"!==typeof self?self:this,(function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/MultiSites/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"8bbf":function(e,n){e.exports=t},b7b0:function(e,t){},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"MultisitesSite",(function(){return q})),"undefined"!==typeof window){var o=window.document.currentScript,i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var r=n("19dc"),c=n("8bbf"),l={key:0,class:"multisites-label label"},a=["href"],s=["href","title"],u=Object(c["createElementVNode"])("span",{class:"icon icon-outlink"},null,-1),b=[u],d={key:1,class:"multisites-label label"},p={class:"value"},m={class:"multisites-column"},j={class:"value"},f={class:"multisites-column"},O={class:"value"},v={key:2,class:"multisites-column"},g={class:"value"},w=["title"],h={key:0,class:"visits value"},k=Object(c["createElementVNode"])("img",{class:"multisites_icon",src:"plugins/MultiSites/images/arrow_up.png",alt:""},null,-1),y=Object(c["createTextVNode"])(),S={style:{color:"green"}},N=Object(c["createElementVNode"])("img",{class:"multisites_icon",src:"plugins/MultiSites/images/stop.png",alt:""},null,-1),V=Object(c["createTextVNode"])(),E=Object(c["createElementVNode"])("img",{class:"multisites_icon",src:"plugins/MultiSites/images/arrow_down.png",alt:""},null,-1),_=Object(c["createTextVNode"])(),M={style:{color:"red"}},B={key:4,style:{width:"180px"}},x={key:0,class:"sparkline",style:{width:"100px",margin:"auto"}},C=["href","title"],D=["src"];function G(e,t,n,o,i,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{class:Object(c["normalizeClass"])({groupedWebsite:e.website.group,website:!e.website.group,group:e.website.isGroup})},[e.website.isGroup?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",l,[Object(c["createElementVNode"])("a",{title:"View reports",class:"value truncated-text-line",href:e.dashboardUrl(e.website)},Object(c["toDisplayString"])(e.websiteLabel),9,a),Object(c["createElementVNode"])("span",null,[Object(c["createElementVNode"])("a",{rel:"noreferrer noopener",target:"_blank",href:e.website.main_url,title:e.translate("General_GoTo",e.website.main_url)},b,8,s)])])),e.website.isGroup?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",d,[Object(c["createElementVNode"])("span",p,Object(c["toDisplayString"])(e.websiteLabel),1)])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("td",m,[Object(c["createElementVNode"])("span",j,Object(c["toDisplayString"])(e.website.nb_visits),1)]),Object(c["createElementVNode"])("td",f,[Object(c["createElementVNode"])("span",O,Object(c["toDisplayString"])(e.website.nb_pageviews),1)]),e.displayRevenueColumn?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",v,[Object(c["createElementVNode"])("span",g,Object(c["toDisplayString"])(e.website.revenue),1)])):Object(c["createCommentVNode"])("",!0),"range"!==e.period?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",{key:3,class:"multisites-evolution",title:e.website.tooltip},[e.website.isGroup?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",h,[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",null,[k,y,Object(c["createElementVNode"])("span",S,Object(c["toDisplayString"])(e.website[e.evolutionMetric]),1)],512),[[c["vShow"],1===e.website["".concat(e.evolutionMetric,"_trend")]]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("span",null,[N,V,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.website[e.evolutionMetric]),1)],512),[[c["vShow"],0===e.website["".concat(e.evolutionMetric,"_trend")]]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("span",null,[E,_,Object(c["createElementVNode"])("span",M,Object(c["toDisplayString"])(e.website[e.evolutionMetric]),1)],512),[[c["vShow"],-1===e.website["".concat(e.evolutionMetric,"_trend")]]])]))],8,w)):Object(c["createCommentVNode"])("",!0),e.showSparklines?(Object(c["openBlock"])(),Object(c["createElementBlock"])("td",B,[e.website.isGroup?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",x,[Object(c["createElementVNode"])("a",{rel:"noreferrer noopener",target:"_blank",href:e.dashboardUrl(e.website),title:e.translate("General_GoTo",e.translate("Dashboard_DashboardOf",e.websiteLabel))},[Object(c["createElementVNode"])("img",{alt:"",width:"100",height:"25",src:e.sparklineImage(e.website)},null,8,D)],8,C)]))])):Object(c["createCommentVNode"])("",!0)],2)}var P=Object(c["defineComponent"])({props:{website:{type:Object,required:!0},evolutionMetric:{type:String,required:!0},showSparklines:Boolean,dateSparkline:String,displayRevenueColumn:Boolean,metric:String},methods:{dashboardUrl:function(e){return"index.php?module=CoreHome&action=index&date=".concat(this.date,"&period=").concat(this.period)+"&idSite=".concat(e.idsite).concat(this.tokenParam)},sparklineImage:function(e){var t=this.metric;switch(this.evolutionMetric){case"visits_evolution":t="nb_visits";break;case"pageviews_evolution":t="nb_pageviews";break;case"revenue_evolution":t="revenue";break;default:break}return"index.php?module=MultiSites&action=getEvolutionGraph&period=".concat(this.period,"&date=")+"".concat(this.dateSparkline,"&evolutionBy=").concat(t,"&columns=").concat(t,"&idSite=").concat(e.idsite)+"&idsite=".concat(e.idsite,"&viewDataTable=sparkline").concat(this.tokenParam,"&colors=")+"".concat(encodeURIComponent(JSON.stringify(r["Matomo"].getSparklineColors())))}},computed:{tokenParam:function(){var e=r["MatomoUrl"].urlParsed.value.token_auth;return e.length?"&token_auth=".concat(e):""},period:function(){return r["Matomo"].period},date:function(){return r["MatomoUrl"].urlParsed.value.date},websiteLabel:function(){return r["Matomo"].helper.htmlDecode(this.website.label)}}}),J=n("b7b0"),T=n.n(J);P.render=G,"function"===typeof T.a&&T()(P);var q=P;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */Object(r["createAngularJsAdapter"])({component:q,scope:{website:{angularJsBind:"="},evolutionMetric:{angularJsBind:"="},showSparklines:{angularJsBind:"="},dateSparkline:{angularJsBind:"="},displayRevenueColumn:{angularJsBind:"="},metric:{angularJsBind:"="}},directiveName:"piwikMultisitesSite"})}})}));
//# sourceMappingURL=MultiSites.umd.min.js.map