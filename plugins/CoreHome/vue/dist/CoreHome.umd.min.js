(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["CoreHome"]=t(require("vue")):e["CoreHome"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fae3")}({"8bbf":function(t,r){t.exports=e},fae3:function(e,t,r){"use strict";if(r.r(t),r.d(t,"activityIndicatorAdapter",(function(){return S})),r.d(t,"ActivityIndicator",(function(){return R})),r.d(t,"translate",(function(){return i})),r.d(t,"alertAdapter",(function(){return C})),r.d(t,"Periods",(function(){return d})),"undefined"!==typeof window){var n=window.document.currentScript,a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function i(e,t=[]){return _pk_translate(e,t)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */class s{constructor(){o(this,"periods",{}),o(this,"periodOrder",[])}addCustomPeriod(e,t){if(this.periods[e])throw new Error(`The "${e}" period already exists! It cannot be overridden.`);this.periods[e]=t,this.periodOrder.push(e)}getAllLabels(){return Array().concat(this.periodOrder)}get(e){const t=this.periods[e];if(!t)throw new Error("Invalid period label: "+e);return t}parse(e,t){return this.get(e).parse(t)}isRecognizedPeriod(e){return!!this.periods[e]}}var d=new s;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function c(e){return $.datepicker.formatDate("yy-mm-dd",e)}function u(){const e=new Date(Date.now());return e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3),e.setHours(e.getHours()+(piwik.timezoneOffset||0)/3600),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function l(e){if(e instanceof Date)return e;const t=decodeURIComponent(e);if("today"===t||"now"===t)return u();if("yesterday"===t||"yesterdaySameTime"===t){const e=u();return e.setDate(e.getDate()-1),e}if(t.match(/last[ -]?week/i)){const e=u();return e.setDate(e.getDate()-7),e}if(t.match(/last[ -]?month/i)){const e=u();return e.setDate(1),e.setMonth(e.getMonth()-1),e}if(t.match(/last[ -]?year/i)){const e=u();return e.setFullYear(e.getFullYear()-1),e}try{return $.datepicker.parseDate("yy-mm-dd",t)}catch(r){throw console.error(r.message||r),r}}function g(e){return 2===e.length&&(u()>=e[0]&&u()<=e[1])}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */class f{constructor(e){p(this,"dateInPeriod",void 0),this.dateInPeriod=e}static parse(e){return new f(l(e))}static getDisplayText(){return i("Intl_PeriodDay")}getPrettyString(){return c(this.dateInPeriod)}getDateRange(){return[new Date(this.dateInPeriod.getTime()),new Date(this.dateInPeriod.getTime())]}containsToday(){return g(this.getDateRange())}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */d.addCustomPeriod("day",f);class m{constructor(e){h(this,"dateInPeriod",void 0),this.dateInPeriod=e}static parse(e){return new m(l(e))}static getDisplayText(){return i("Intl_PeriodWeek")}getPrettyString(){const e=this.getDateRange(),t=c(e[0]),r=c(e[1]);return i("General_DateRangeFromTo",[t,r])}getDateRange(){const e=(this.dateInPeriod.getDay()+6)%7,t=new Date(this.dateInPeriod.getTime());t.setDate(this.dateInPeriod.getDate()-e);const r=new Date(t.getTime());return r.setDate(t.getDate()+6),[t,r]}containsToday(){return g(this.getDateRange())}}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */d.addCustomPeriod("week",m);class y{constructor(e){D(this,"dateInPeriod",void 0),this.dateInPeriod=e}static parse(e){return new y(l(e))}static getDisplayText(){return i("Intl_PeriodMonth")}getPrettyString(){const e=i("Intl_Month_Long_StandAlone_"+(this.dateInPeriod.getMonth()+1));return`${e} ${this.dateInPeriod.getFullYear()}`}getDateRange(){const e=new Date(this.dateInPeriod.getTime());e.setDate(1);const t=new Date(this.dateInPeriod.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),[e,t]}containsToday(){return g(this.getDateRange())}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */d.addCustomPeriod("month",y);class w{constructor(e){b(this,"dateInPeriod",void 0),this.dateInPeriod=e}static parse(e){return new w(l(e))}static getDisplayText(){return i("Intl_PeriodYear")}getPrettyString(){return this.dateInPeriod.getFullYear().toString()}getDateRange(){const e=new Date(this.dateInPeriod.getTime());e.setMonth(0),e.setDate(1);const t=new Date(this.dateInPeriod.getTime());return t.setMonth(12),t.setDate(0),[e,t]}containsToday(){return g(this.getDateRange())}}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */d.addCustomPeriod("year",w);class v{constructor(e,t,r){P(this,"startDate",void 0),P(this,"endDate",void 0),P(this,"childPeriodType",void 0),this.startDate=e,this.endDate=t,this.childPeriodType=r}static getLastNRange(e,t,r){const n=Math.max(parseInt(t.toString(),10)-1,0);if(Number.isNaN(n))throw new Error("Invalid range strAmount");let a=r?l(r):u(),i=new Date(a.getTime());if("day"===e)i.setDate(i.getDate()-n);else if("week"===e)i.setDate(i.getDate()-7*n);else if("month"===e)i.setDate(1),i.setMonth(i.getMonth()-n);else{if("year"!==e)throw new Error(`Unknown period type '${e}'.`);i.setFullYear(i.getFullYear()-n)}if("day"!==e){const t=d.periods[e].parse(i),r=d.periods[e].parse(a);[i]=t.getDateRange(),[,a]=r.getDateRange()}const o=new Date(1991,7,6);if(i.getTime()-o.getTime()<0)switch(e){case"year":i=new Date(1992,0,1);break;case"month":i=new Date(1991,8,1);break;case"week":i=new Date(1991,8,12);break;case"day":default:i=o;break}return new v(i,a,e)}static getLastNRangeChild(e,t,r){const n=t?l(t):u();let a=new Date(n.getTime()),i=new Date(n.getTime());if("day"===e)a.setDate(a.getDate()-r),i.setDate(i.getDate()-r);else if("week"===e)a.setDate(a.getDate()-7*r),i.setDate(i.getDate()-7*r);else if("month"===e)a.setDate(1),a.setMonth(a.getMonth()-r),i.setDate(1),i.setMonth(i.getMonth()-r);else{if("year"!==e)throw new Error(`Unknown period type '${e}'.`);a.setFullYear(a.getFullYear()-r),i.setFullYear(i.getFullYear()-r)}if("day"!==e){const t=d.periods[e].parse(a),r=d.periods[e].parse(i);[a]=t.getDateRange(),[,i]=r.getDateRange()}const o=new Date(1991,7,6);if(a.getTime()-o.getTime()<0)switch(e){case"year":a=new Date(1992,0,1);break;case"month":a=new Date(1991,8,1);break;case"week":a=new Date(1991,8,12);break;case"day":default:a=o;break}return new v(a,i,e)}static parse(e,t="day"){if(/^previous/.test(e)){const r=v.getLastNRange(t,"2").startDate;return v.getLastNRange(t,e.substring(8),r)}if(/^last/.test(e))return v.getLastNRange(t,e.substring(4));const r=decodeURIComponent(e).split(",");return new v(l(r[0]),l(r[1]),t)}static getDisplayText(){return i("General_DateRangeInPeriodList")}getPrettyString(){const e=c(this.startDate),t=c(this.endDate);return i("General_DateRangeFromTo",[e,t])}getDateRange(){return[this.startDate,this.endDate]}containsToday(){return g(this.getDateRange())}}function T(){return{getAllLabels:d.getAllLabels.bind(d),isRecognizedPeriod:d.isRecognizedPeriod.bind(d),get:d.get.bind(d),parse:d.parse.bind(d),parseDate:l,format:c,RangePeriod:v,todayIsInRange:g}}d.addCustomPeriod("range",v),
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
piwik.addCustomPeriod=d.addCustomPeriod.bind(d),angular.module("piwikApp.service").factory("piwikPeriods",T);var I=r("8bbf");const k={class:"loadingPiwik"},j=Object(I["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:""},null,-1);function O(e,t,r,n,a,i){return Object(I["withDirectives"])((Object(I["openBlock"])(),Object(I["createElementBlock"])("div",k,[j,Object(I["createElementVNode"])("span",null,Object(I["toDisplayString"])(e.loadingMessage),1)],512)),[[I["vShow"],e.loading]])}var M=Object(I["defineComponent"])({props:{loading:{type:Boolean,required:!0,default:!1},loadingMessage:{type:String,required:!1,default:i("General_LoadingData")}}});M.render=O;var R=M;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function S(){return{restrict:"A",scope:{loading:"<",loadingMessage:"<"},template:"",link:function(e,t){const r=Object(I["createApp"])({template:'<activity-indicator :loading="loading" :loadingMessage="loadingMessage"/>',data(){return{loading:e.loading,loadingMessage:e.loadingMessage}}});r.component("activity-indicator",R);const n=r.mount(t[0]);e.$watch("loading",e=>{n.loading=e}),e.$watch("loadingMessage",e=>{n.loadingMessage=e||i("General_LoadingData")})}}}function _(e,t,r,n,a,i){return Object(I["openBlock"])(),Object(I["createElementBlock"])("div",{class:Object(I["normalizeClass"])(["alert",{["alert-"+e.severity]:!0}])},[Object(I["renderSlot"])(e.$slots,"default")],2)}S.$inject=[],angular.module("piwikApp").directive("piwikActivityIndicator",S);var A=Object(I["defineComponent"])({props:{severity:{type:String,required:!0}}});A.render=_;var x=A;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function C(){return{restrict:"A",transclude:!0,scope:{severity:"@piwikAlert"},template:"<div ng-transclude/>",compile:function(){return{post:function(e,t){const r=t.find("[ng-transclude]"),n=Object(I["createApp"])({template:'<alert :severity="severity"><div ref="transcludeTarget"/></alert>',data(){return{severity:e.severity}},setup(){const e=Object(I["ref"])(null);return{transcludeTarget:e}}});n.component("alert",x);const a=n.mount(t[0]);e.$watch("severity",e=>{a.severity=e}),$(a.transcludeTarget).append(r)}}}}}C.$inject=[],angular.module("piwikApp").directive("piwikAlert",C)}})}));
//# sourceMappingURL=CoreHome.umd.min.js.map