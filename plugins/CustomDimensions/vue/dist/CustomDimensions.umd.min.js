(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):"function"===typeof define&&define.amd?define(["CoreHome",,"CorePluginsAdmin"],t):"object"===typeof exports?exports["CustomDimensions"]=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):e["CustomDimensions"]=t(e["CoreHome"],e["Vue"],e["CorePluginsAdmin"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CustomDimensions/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"4f0d":function(e,t){},"66db":function(e,t){},"8bbf":function(e,n){e.exports=t},a5a2:function(e,t){e.exports=n},f9a1:function(e,t){},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"CustomDimensionsStore",(function(){return P})),n.d(t,"Edit",(function(){return $})),n.d(t,"List",(function(){return ge})),n.d(t,"Manage",(function(){return qe})),"undefined"!==typeof window){var i=window.document.currentScript,o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("19dc"),c=n("8bbf"),a={class:"editCustomDimension"},r={class:"loadingPiwik"},l=Object(c["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif"},null,-1),u={class:"row form-group"},m={class:"col s12"},d={class:"col s12 m6"},p={class:"row"},b={class:"col s12 m6"},f={class:"col s12 m6"},O={class:"col s12"},v=["onClick"],j={class:"row"},h={class:"col s12"},D={class:"col s12 m6 form-help"},g=["disabled"],C=["disabled"],V={class:"btn cancel",type:"button",href:"#list"},N={class:"alert alert-info howToTrackInfo"},S=Object(c["createTextVNode"])("            "),E=Object(c["createTextVNode"])("\n          "),y=["innerHTML"],x=Object(c["createTextVNode"])("            "),w=Object(c["createTextVNode"])("\n          "),k=Object(c["createTextVNode"])("            "),T=["innerHTML"],_=Object(c["createTextVNode"])("\n          ");function A(e,t,n,i,o,s){var A=Object(c["resolveComponent"])("Field"),M=Object(c["resolveComponent"])("ContentBlock"),B=Object(c["resolveDirective"])("select-on-focus");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createVNode"])(M,{"content-title":e.contentTitleText},{default:Object(c["withCtx"])((function(){var n;return[Object(c["withDirectives"])(Object(c["createElementVNode"])("p",null,[Object(c["createElementVNode"])("span",r,[l,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.translate("General_LoadingData")),1)])],512),[[c["vShow"],e.isLoading||e.isUpdating]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(c["withModifiers"])((function(t){return e.edit?e.updateCustomDimension():e.createCustomDimension()}),["prevent"]))},[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(A,{uicontrol:"text",name:"name",modelValue:e.dimension.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.dimension.name=t}),maxlength:255,required:!0,title:e.translate("General_Name"),"inline-help":e.translate("CustomDimensions_NameAllowedCharacters")},null,8,["modelValue","title","inline-help"])]),Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(A,{uicontrol:"checkbox",name:"active",modelValue:e.dimension.active,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dimension.active=t}),title:e.translate("CorePluginsAdmin_Active"),"inline-help":e.translate("CustomDimensions_CannotBeDeleted")},null,8,["modelValue","title","inline-help"])]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("h3",m,Object(c["toDisplayString"])(e.translate("CustomDimensions_ExtractValue")),1),Object(c["createElementVNode"])("div",d,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.dimension.extractions,(function(n,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])("".concat(i,"extraction ")),key:i},[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(A,{uicontrol:"select",name:"".concat(i,"dimension"),modelValue:n.dimension,"onUpdate:modelValue":function(e){return n.dimension=e},"full-width":!0,options:e.extractionDimensionsOptions},null,8,["name","modelValue","onUpdate:modelValue","options"])])]),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(A,{uicontrol:"text",name:"".concat(i,"pattern"),modelValue:n.pattern,"onUpdate:modelValue":function(e){return n.pattern=e},"full-width":!0,title:"urlparam"===n.dimension?"url query string parameter":"eg. /blog/(.*)/"},null,8,["name","modelValue","onUpdate:modelValue","title"])])]),Object(c["createElementVNode"])("div",O,[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",{class:"icon-plus",onClick:t[2]||(t[2]=function(t){return e.addExtraction()})},null,512),[[c["vShow"],n.pattern]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("span",{class:"icon-minus",onClick:function(t){return e.removeExtraction(i)}},null,8,v),[[c["vShow"],e.dimension.extractions.length>1]])])])],2)})),128)),Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",null,[Object(c["withDirectives"])(Object(c["createVNode"])(A,{uicontrol:"checkbox",name:"casesensitive",modelValue:e.dimension.case_sensitive,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.dimension.case_sensitive=t}),title:e.translate("Goals_CaseSensitive")},null,8,["modelValue","title"]),[[c["vShow"],null===(n=e.dimension.extractions[0])||void 0===n?void 0:n.pattern]])])])])]),Object(c["createElementVNode"])("div",D,Object(c["toDisplayString"])(e.translate("CustomDimensions_ExtractionsHelp")),1)],512),[[c["vShow"],e.doesScopeSupportExtraction]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"btn update",type:"submit",value:"Update",disabled:e.isUpdating,style:{"margin-right":"3.5px"}},null,8,g),[[c["vShow"],e.edit]]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"btn create",type:"submit",value:"Create",disabled:e.isUpdating,style:{"margin-right":"3.5px"}},null,8,C),[[c["vShow"],e.create]]),Object(c["createElementVNode"])("a",V,Object(c["toDisplayString"])(e.translate("General_Cancel")),1)],32),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyTitle")),1),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyViaJs")),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("pre",null,[S,Object(c["createElementVNode"])("code",null,"_paq.push(['setCustomDimension', "+Object(c["toDisplayString"])(e.dimension.idcustomdimension)+",\n              '"+Object(c["toDisplayString"])(e.translate("CustomDimensions_ExampleValue"))+"']);",1),E],512),[[B,{}]]),Object(c["createElementVNode"])("p",{innerHTML:e.$sanitize(e.howToTrackManuallyText)},null,8,y),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyViaPhp")),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("pre",null,[x,Object(c["createElementVNode"])("code",null,"$tracker->setCustomDimension('"+Object(c["toDisplayString"])(e.dimension.idcustomdimension)+"',\n              '"+Object(c["toDisplayString"])(e.translate("CustomDimensions_ExampleValue"))+"');",1),w],512),[[B,{}]]),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.translate("CustomDimensions_HowToTrackManuallyViaHttp")),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("pre",null,[k,Object(c["createElementVNode"])("code",{innerHTML:e.manuallyTrackCode},null,8,T),_],512),[[B,{}]])],512),[[c["vShow"],e.edit]])],512),[[c["vShow"],!e.isLoading]])]})),_:1},8,["content-title"])])}var M=n("a5a2");function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function L(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var H=function(){function e(){var t=this;B(this,e),I(this,"privateState",Object(c["reactive"])({customDimensions:[],availableScopes:[],extractionDimensions:[],isLoading:!1,isUpdating:!1})),I(this,"state",Object(c["computed"])((function(){return Object(c["readonly"])(t.privateState)}))),I(this,"isLoading",Object(c["computed"])((function(){return t.state.value.isLoading}))),I(this,"isUpdating",Object(c["computed"])((function(){return t.state.value.isUpdating}))),I(this,"extractionDimensions",Object(c["computed"])((function(){return t.state.value.extractionDimensions}))),I(this,"extractionDimensionsOptions",Object(c["computed"])((function(){return t.extractionDimensions.value.map((function(e){return{key:e.value,value:e.name}}))}))),I(this,"availableScopes",Object(c["computed"])((function(){return t.state.value.availableScopes}))),I(this,"customDimensions",Object(c["computed"])((function(){return t.state.value.customDimensions}))),I(this,"customDimensionsById",Object(c["computed"])((function(){var e={};return t.customDimensions.value.forEach((function(t){e["".concat(t.idcustomdimension)]=t})),e}))),I(this,"reloadPromise",null)}return L(e,[{key:"reload",value:function(){return this.privateState.customDimensions=[],this.privateState.availableScopes=[],this.privateState.extractionDimensions=[],this.reloadPromise=null,this.fetch()}},{key:"fetch",value:function(){var e=this;return this.reloadPromise||(this.privateState.isLoading=!0,this.reloadPromise=Promise.all([this.fetchConfiguredCustomDimensions(),this.fetchAvailableExtractionDimensions(),this.fetchAvailableScopes()]).finally((function(){e.privateState.isLoading=!1}))),this.reloadPromise}},{key:"fetchConfiguredCustomDimensions",value:function(){var e=this;return s["AjaxHelper"].fetch({method:"CustomDimensions.getConfiguredCustomDimensions",filter_limit:"-1"}).then((function(t){e.privateState.customDimensions=t}))}},{key:"fetchAvailableExtractionDimensions",value:function(){var e=this;return s["AjaxHelper"].fetch({method:"CustomDimensions.getAvailableExtractionDimensions",filter_limit:"-1"}).then((function(t){e.privateState.extractionDimensions=t}))}},{key:"fetchAvailableScopes",value:function(){var e=this;return s["AjaxHelper"].fetch({method:"CustomDimensions.getAvailableScopes",filter_limit:"-1"}).then((function(t){e.privateState.availableScopes=t}))}},{key:"createOrUpdateDimension",value:function(e,t){var n=this;return this.privateState.isUpdating=!0,s["AjaxHelper"].post({method:t,scope:e.scope,idDimension:e.idcustomdimension,idSite:e.idsite,name:e.name,active:e.active?"1":"0",caseSensitive:e.case_sensitive?"1":"0"},{extractions:e.extractions}).finally((function(){n.privateState.isUpdating=!1}))}}]),e}(),P=new H;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function q(e){return"".concat(e[0].toUpperCase()).concat(e.substr(1))}var F="customdimensions",z=Object(c["defineComponent"])({props:{dimensionId:Number,dimensionScope:{type:String,required:!0}},components:{ContentBlock:s["ContentBlock"],Field:M["Field"]},directives:{SelectOnFocus:s["SelectOnFocus"]},data:function(){return{dimension:{extractions:[]},isUpdatingDim:!1}},created:function(){this.init()},watch:{dimensionId:function(){this.init()}},methods:{removeAnyCustomDimensionNotification:function(){s["NotificationsStore"].remove(F)},showNotification:function(e,t){s["NotificationsStore"].show({message:e,context:t,id:F,type:"transient"})},init:function(){var e=this;null!==this.dimensionId&&this.removeAnyCustomDimensionNotification(),P.fetch().then((function(){e.edit&&e.dimensionId?(e.dimension=Object(s["clone"])(P.customDimensionsById.value[e.dimensionId]),e.dimension&&!e.dimension.extractions.length&&e.addExtraction()):e.create&&(e.dimension={idsite:s["Matomo"].idSite,name:"",active:!1,extractions:[],scope:e.dimensionScope,case_sensitive:!0},e.addExtraction())}))},removeExtraction:function(e){e>-1&&this.dimension.extractions.splice(e,1)},addExtraction:function(){this.doesScopeSupportExtraction&&this.dimension.extractions.push({dimension:"url",pattern:""})},createCustomDimension:function(){var e=this;this.isUpdatingDim=!0,P.createOrUpdateDimension(this.dimension,"CustomDimensions.configureNewCustomDimension").then((function(){e.showNotification(Object(s["translate"])("CustomDimensions_DimensionCreated"),"success"),console.log("before reload"),P.reload(),s["MatomoUrl"].updateHashToUrl("/list")})).finally((function(){e.isUpdatingDim=!1}))},updateCustomDimension:function(){var e=this;this.isUpdatingDim=!0,P.createOrUpdateDimension(this.dimension,"CustomDimensions.configureExistingCustomDimension").then((function(){e.showNotification(Object(s["translate"])("CustomDimensions_DimensionUpdated"),"success"),P.reload(),s["MatomoUrl"].updateHashToUrl("/list")})).finally((function(){e.isUpdatingDim=!1}))}},computed:{isLoading:function(){return P.isLoading.value},isUpdating:function(){return P.isUpdating.value||this.isUpdatingDim},create:function(){return 0===this.dimensionId},edit:function(){return!this.create},extractionDimensionsOptions:function(){return P.extractionDimensionsOptions.value},availableScopes:function(){return P.availableScopes.value},doesScopeSupportExtraction:function(){var e,t=this;if(null===(e=this.dimension)||void 0===e||!e.scope||!this.availableScopes)return!1;var n=this.availableScopes.find((function(e){return e.value===t.dimension.scope}));return null===n||void 0===n?void 0:n.supportsExtractions},contentTitleText:function(){var e;return Object(s["translate"])("CustomDimensions_ConfigureDimension",q(this.dimensionScope),"".concat((null===(e=this.dimension)||void 0===e?void 0:e.index)||""))},howToTrackManuallyText:function(){var e="https://developer.piwik.org/guides/tracking-javascript-guide#custom-dimensions";return Object(s["translate"])("CustomDimensions_HowToTrackManuallyViaJsDetails",'<a target=_blank href="'.concat(e,'" rel="noreferrer noopener">'),"</a>")},manuallyTrackCode:function(){var e=Object(s["translate"])("CustomDimensions_ExampleValue");return"&dimension".concat(this.dimension.idcustomdimension,"=").concat(e,"}")}}}),G=n("f9a1"),J=n.n(G);z.render=A,"function"===typeof J.a&&J()(z);var $=z,X=(Object(s["createAngularJsAdapter"])({component:$,scope:{dimensionId:{angularJsBind:"=",transform:function(e){return"string"===typeof e?parseInt(e,10):e}},dimensionScope:{angularJsBind:"="}},directiveName:"piwikCustomDimensionsEdit"}),["innerHTML"]),Y={class:"loadingPiwik"},K=Object(c["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif"},null,-1),Q={class:"index"},R={class:"name"},W={class:"active"},Z={class:"action"},ee={colspan:"5"},te={class:"index"},ne={class:"name"},ie={class:"extractions"},oe={class:"active"},se={class:"action"},ce=["href"],ae={class:"tableActionBar"},re=["href"],le=Object(c["createElementVNode"])("span",{class:"icon-add"},null,-1),ue={class:"info"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function me(e,t,n,i,o,s){var a=Object(c["resolveComponent"])("EnrichedHeadline"),r=Object(c["resolveComponent"])("ContentBlock"),l=Object(c["resolveDirective"])("content-intro"),u=Object(c["resolveDirective"])("content-table");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["withDirectives"])(Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("h2",null,[Object(c["createVNode"])(a,null,{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.translate("CustomDimensions_CustomDimensions")),1)]})),_:1})]),Object(c["createElementVNode"])("p",{innerHTML:e.$sanitize(e.contentIntroText)},null,8,X),Object(c["withDirectives"])(Object(c["createElementVNode"])("p",null,[Object(c["createElementVNode"])("span",Y,[K,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.translate("General_LoadingData")),1)])],512),[[c["vShow"],e.isLoading]])],512),[[l]]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.availableScopes,(function(t){return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t.value},[Object(c["createVNode"])(r,{"content-title":"".concat(t.name," Dimensions")},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.translate("CustomDimensions_ScopeDescription".concat(e.ucfirst(t.value))))+" "+Object(c["toDisplayString"])(e.translate("CustomDimensions_ScopeDescription".concat(e.ucfirst(t.value),"MoreInfo"))),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",Q,Object(c["toDisplayString"])(e.translate("General_Id")),1),Object(c["createElementVNode"])("th",R,Object(c["toDisplayString"])(e.translate("General_Name")),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("th",{class:"extractions"},Object(c["toDisplayString"])(e.translate("CustomDimensions_Extractions")),513),[[c["vShow"],t.supportsExtractions]]),Object(c["createElementVNode"])("th",W,Object(c["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1),Object(c["createElementVNode"])("th",Z,Object(c["toDisplayString"])(e.translate("General_Action")),1)])]),Object(c["createElementVNode"])("tbody",null,[Object(c["withDirectives"])(Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",ee,Object(c["toDisplayString"])(e.translate("CustomDimensions_NoCustomDimensionConfigured")),1)],512),[[c["vShow"],0===t.numSlotsUsed&&!e.isLoading]]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sortedCustomDimensionsByScope[t.value],(function(e){var n;return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{class:Object(c["normalizeClass"])(["customdimension",e.idcustomdimension]),key:e.idcustomdimension},[Object(c["createElementVNode"])("td",te,Object(c["toDisplayString"])(e.idcustomdimension),1),Object(c["createElementVNode"])("td",ne,Object(c["toDisplayString"])(e.name),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("td",ie,[Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])({"icon-ok":null===(n=e.extractions[0])||void 0===n?void 0:n.pattern})},null,2)],512),[[c["vShow"],t.supportsExtractions]]),Object(c["createElementVNode"])("td",oe,[Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])({"icon-ok":e.active})},null,2)]),Object(c["createElementVNode"])("td",se,[Object(c["createElementVNode"])("a",{class:"table-action icon-edit",href:"#?idDimension=".concat(e.idcustomdimension,"&scope=").concat(t.value)},null,8,ce)])],2)})),128))])],512),[[u]]),Object(c["createElementVNode"])("div",ae,[Object(c["withDirectives"])(Object(c["createElementVNode"])("a",{value:"",class:Object(c["normalizeClass"])({disabled:!t.numSlotsLeft}),href:"#?idDimension=0&scope=".concat(t.value)},[le,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.translate("CustomDimensions_ConfigureNewDimension"))+" ",1),Object(c["createElementVNode"])("span",ue,"("+Object(c["toDisplayString"])(e.translate("CustomDimensions_XofYLeft",t.numSlotsLeft,t.numSlotsAvailable))+")",1)],10,re),[[c["vShow"],!e.isLoading]])])]})),_:2},1032,["content-title"])],512)),[[c["vShow"],!e.isLoading]])})),128))])}function de(e){return Oe(e)||fe(e)||be(e)||pe()}function pe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function be(e,t){if(e){if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function fe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Oe(e){if(Array.isArray(e))return ve(e)}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var je=Object(c["defineComponent"])({name:"listcustomdimensions",components:{EnrichedHeadline:s["EnrichedHeadline"],ContentBlock:s["ContentBlock"]},directives:{ContentIntro:s["ContentIntro"],ContentTable:s["ContentTable"]},created:function(){P.fetch()},methods:{ucfirst:function(e){return q(e)}},computed:{isLoading:function(){return P.isLoading.value},availableScopes:function(){return P.availableScopes.value},contentIntroText:function(){var e=Object(s["translate"])("CustomDimensions_CustomDimensionsIntroNext","<a target=_blank href='https://piwik.org/docs/custom-variables'>","</a>","<a target=_blank href='https://piwik.org/faq/general/faq_21117'>","</a>"),t=Object(s["translate"])("CustomDimensions_CustomDimensionsIntro","<a target=_blank href='https://piwik.org/docs/custom-dimensions'>","</a>",this.siteName);return"".concat(e).concat(t)},customDimensions:function(){return P.customDimensions.value},sortedCustomDimensions:function(){var e=de(this.customDimensions);return e.sort((function(e,t){var n=parseInt("".concat(e.idcustomdimension),10),i=parseInt("".concat(t.idcustomdimension),10);return n-i})),e},sortedCustomDimensionsByScope:function(){var e={};return this.sortedCustomDimensions.reduce((function(e,t){return e[t.scope]=e[t.scope]||[],e[t.scope].push(t),e}),e),e},siteName:function(){return s["Matomo"].helper.htmlDecode(s["Matomo"].siteName)}}}),he=n("4f0d"),De=n.n(he);je.render=me,"function"===typeof De.a&&De()(je);var ge=je,Ce=(Object(s["createAngularJsAdapter"])({component:ge,directiveName:"piwikCustomDimensionsList"}),{class:"manageCustomDimensions"}),Ve={key:0},Ne=Object(c["createElementVNode"])("br",null,null,-1),Se=Object(c["createElementVNode"])("br",null,null,-1),Ee=Object(c["createElementVNode"])("br",null,null,-1),ye=Object(c["createElementVNode"])("br",null,null,-1),xe=Object(c["createTextVNode"])("          "),we=Object(c["createElementVNode"])("code",null,"./console customdimensions:add-custom-dimension --scope=action\n            ./console customdimensions:add-custom-dimension --scope=visit",-1),ke=Object(c["createTextVNode"])("\n        "),Te=[xe,we,ke],_e=Object(c["createTextVNode"])("          "),Ae=Object(c["createElementVNode"])("code",null,"./console customdimensions:add-custom-dimension --scope=action --count=5",-1),Me=Object(c["createTextVNode"])("\n        "),Be=[_e,Ae,Me],Ue={key:1};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Le(e,t,n,i,o,s){var a=Object(c["resolveComponent"])("CustomDimensionsList"),r=Object(c["resolveComponent"])("ContentBlock"),l=Object(c["resolveComponent"])("CustomDimensionsEdit"),u=Object(c["resolveDirective"])("select-on-focus");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ce,[e.editMode?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ve,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(a)]),Object(c["createVNode"])(r,{id:"customDimensionsCreateMoreDimensions","content-title":e.translate("CustomDimensions_IncreaseAvailableCustomDimensionsTitle")},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.translate("CustomDimensions_IncreaseAvailableCustomDimensionsTakesLong"))+" ",1),Ne,Se,Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.translate("CustomDimensions_HowToCreateCustomDimension"))+" ",1),Ee,ye]),Object(c["withDirectives"])(Object(c["createElementVNode"])("pre",null,Te,512),[[u,{}]]),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.translate("CustomDimensions_HowToManyCreateCustomDimensions"))+" "+Object(c["toDisplayString"])(e.translate("CustomDimensions_ExampleCreateCustomDimensions",5)),1),Object(c["withDirectives"])(Object(c["createElementVNode"])("pre",null,Be,512),[[u,{}]])]})),_:1},8,["content-title"])])),e.editMode?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ue,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(l,{"dimension-id":e.dimensionId,"dimension-scope":e.dimensionScope},null,8,["dimension-id","dimension-scope"])])])):Object(c["createCommentVNode"])("",!0)])}var Ie=Object(c["defineComponent"])({components:{CustomDimensionsList:ge,ContentBlock:s["ContentBlock"],CustomDimensionsEdit:$},directives:{SelectOnFocus:s["SelectOnFocus"]},data:function(){return{editMode:!1,dimensionId:null,dimensionScope:""}},created:function(){var e=this;Object(c["watch"])((function(){return s["MatomoUrl"].hashParsed.value}),(function(){e.initState()})),this.initState()},methods:{getValidDimensionScope:function(e){return-1!==["action","visit"].indexOf(e)?e:""},initState:function(){var e=s["MatomoUrl"].hashParsed.value.idDimension;if(e){var t=this.getValidDimensionScope(s["MatomoUrl"].hashParsed.value.scope);if("0"===e){var n={isAllowed:!0,scope:t};if(s["Matomo"].postEvent("CustomDimensions.initAddDimension",n),n&&!n.isAllowed)return this.editMode=!1,this.dimensionId=null,void(this.dimensionScope="")}this.editMode=!0,this.dimensionId=parseInt(e,10),this.dimensionScope=t}else this.editMode=!1,this.dimensionId=null,this.dimensionScope="";s["Matomo"].helper.lazyScrollToContent()}}}),He=n("66db"),Pe=n.n(He);Ie.render=Le,"function"===typeof Pe.a&&Pe()(Ie);var qe=Ie;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */Object(s["createAngularJsAdapter"])({component:qe,directiveName:"piwikCustomDimensionsManage"})}})}));
//# sourceMappingURL=CustomDimensions.umd.min.js.map