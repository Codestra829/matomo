(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue")):"function"===typeof define&&define.amd?define(["CoreHome"],t):"object"===typeof exports?exports["Widgetize"]=t(require("CoreHome"),require("vue")):e["Widgetize"]=t(e["CoreHome"],e["Vue"])})("undefined"!==typeof self?self:this,(function(e,t){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="plugins/Widgetize/vue/dist/",r(r.s="fae3")}({"19dc":function(t,r){t.exports=e},5108:function(e,t){},"8bbf":function(e,r){e.exports=t},fae3:function(e,t,r){"use strict";if(r.r(t),r.d(t,"WidgetPreviewIframe",(function(){return O})),r.d(t,"WidgetPreview",(function(){return I})),"undefined"!==typeof window){var i=window.document.currentScript,n=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(r.p=n[1])}var o=r("8bbf"),d={id:"embedThisWidgetIframe"},c=Object(o["createElementVNode"])("label",{for:"embedThisWidgetIframeInput"},"› Embed Iframe",-1),a={id:"embedThisWidgetIframeInput"},u={readonly:"true",id:"iframeEmbed"},l=Object(o["createElementVNode"])("label",{for:"embedThisWidgetDirectLink"},"› Direct Link",-1),f={id:"embedThisWidgetDirectLink"},m={readonly:"true",id:"directLinkEmbed"},p=Object(o["createTextVNode"])(" - "),s=["href"];function b(e,t,r,i,n,b){var g=Object(o["resolveDirective"])("select-on-focus");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",d,[c,Object(o["createElementVNode"])("div",a,[Object(o["withDirectives"])(Object(o["createElementVNode"])("pre",u,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.widgetIframeHtml),1)],512),[[g,{}]])])]),Object(o["createElementVNode"])("div",null,[l,Object(o["createElementVNode"])("div",f,[Object(o["withDirectives"])(Object(o["createElementVNode"])("pre",m,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.urlIframe),1)],512),[[g,{}]]),p,Object(o["createElementVNode"])("a",{href:e.urlIframe,rel:"noreferrer noopener",target:"_blank"},Object(o["toDisplayString"])(e.translate("Widgetize_OpenInNewWindow")),9,s)])])],64)}var g=r("19dc"),v=Object(o["defineComponent"])({props:{urlIframe:{type:String,required:!0},widgetIframeHtml:{type:String,required:!0}},directives:{SelectOnFocus:g["SelectOnFocus"]}});v.render=b;var O=v,j={ref:"root"};function w(e,t,r,i,n,d){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",j,null,512)}var y=window,h=y.$,W=y.widgetsHelper,E=Object(o["defineComponent"])({created:function(){var e=this,t=this.$refs.root;h(t).widgetPreview({onPreviewLoaded:function(t,r){e.callbackAddExportButtonsUnderWidget(t,r)}})},methods:{callbackAddExportButtonsUnderWidget:function(e,t){var r=this;W.getWidgetObjectFromUniqueId(e,(function(e){var i=e.parameters,n=h('<div id="exportButtons">'),o=r.getEmbedUrl(i,"iframe"),d='<div id="widgetIframe"><iframe width="100%" height="350" '+'src="'.concat(o,'" scrolling="yes" frameborder="0" marginheight="0" marginwidth="0">')+"</iframe></div>",c=h("<div>").attr("vue-entry","Widgetize.WidgetPreviewIframe").attr("widget-iframe",JSON.stringify(d)).attr("url-iframe",JSON.stringify(o));h(n).append(c),h(t).parent().append(n),g["Matomo"].helper.compileVueEntryComponents(n)}))},getEmbedUrl:function(e,t){var r=Object.assign(Object.assign({},e),{},{moduleToWidgetize:e.module,actionToWidgetize:e.action,module:"Widgetize",action:t,idSite:g["Matomo"].idSite,period:g["Matomo"].period,date:g["MatomoUrl"].urlParsed.value.date,disableLink:1,widget:1});delete r.action,delete r.module;var i=window.location,n=i.protocol,o=i.hostname,d=""===window.location.port?"":":".concat(window.location.port),c=window.location.pathname,a=g["MatomoUrl"].stringify(r);return"".concat(n,"//").concat(o).concat(d).concat(c,"?").concat(a)}}}),x=r("5108"),S=r.n(x);E.render=w,"function"===typeof S.a&&S()(E);var I=E;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */}})}));
//# sourceMappingURL=Widgetize.umd.min.js.map